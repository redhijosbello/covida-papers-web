(this["webpackJsonpcovida-papers-web"]=this["webpackJsonpcovida-papers-web"]||[]).push([[0],{33:function(e,a,t){e.exports=t(59)},58:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(26),o=t.n(c),i=t(10),s=t(11),u=t(9),m=t(31),p=t(8),d=t(6),h=t(7),E=t(32),f=t(30);function g(){return l.a.createElement(l.a.Fragment,null,Object.keys(n).filter((function(e){return"number"===typeof n[e]})).map((function(e,a){return l.a.createElement("option",{value:n[e],key:a},e)})))}!function(e){e[e.ARXIV=0]="ARXIV",e[e.MBIO=1]="MBIO",e[e.LANCET=2]="LANCET",e[e.GSCHOLAR=3]="GSCHOLAR"}(n||(n={}));var b=t(27),v=t(28),O=t.n(v),w=new(function(){function e(){Object(u.a)(this,e),this.sourceEndpointsAdapter=function(e){switch(e){case n.ARXIV:return"/arxiv";case n.GSCHOLAR:return"/googlescholar";case n.LANCET:return"/lancet";case n.MBIO:return"/mbio"}}}return Object(b.a)(e,[{key:"fetch",value:function(e,a,t){return O.a.get("https://api.papers.covida.cl"+this.sourceEndpointsAdapter(t)+"/papersOfInterest",{params:{word_in_title:e,word_in_paper:a}}).then((function(e){return e.data})).catch((function(e){return console.log(e),alert("Hubo un error, favor intentar m\xe1s tarde."),[]}))}}]),e}()),C=function e(){Object(u.a)(this,e),this.loading=!1,this.titleParam="",this.contentParam="",this.titleParamValid=!1,this.contentParamValid=!1,this.paperSource=n.ARXIV},P=function(e,a){return Object(s.a)({},e,{},a)},y=function(e){var a=Object(r.useReducer)(P,new C),t=Object(i.a)(a,2),n=t[0],c=t[1];return l.a.createElement("div",{className:"mx-3"},l.a.createElement(p.a,{className:"mt-2"},l.a.createElement(d.a,{xs:12},l.a.createElement("p",{className:"text-center h2 text-primary font-weight-bold"},"COVIDA"))),l.a.createElement(p.a,{className:"mt-3"},l.a.createElement(d.a,{md:6},l.a.createElement(h.a.Group,null,l.a.createElement(h.a.Label,null,"* Palabra en t\xedtulo"),l.a.createElement(h.a.Control,{type:"text",placeholder:"Ej: mask",onChange:function(e){var a=e.target.value;c({titleParam:a,titleParamValid:a.length>0})},value:n.titleParam}))),l.a.createElement(d.a,{md:6},l.a.createElement(h.a.Group,null,l.a.createElement(h.a.Label,null,"* Palabra en contenido"),l.a.createElement(h.a.Control,{type:"text",placeholder:"Ej: covid-19",onChange:function(e){var a=e.target.value;c({contentParam:a,contentParamValid:a.length>0})},value:n.contentParam})))),l.a.createElement(p.a,null,l.a.createElement(d.a,{md:6}),l.a.createElement(d.a,{md:6},l.a.createElement(h.a.Group,null,l.a.createElement(h.a.Label,null,"* Fuente de papers"),l.a.createElement(h.a.Control,{as:"select",onChange:function(e){return function(e){c({paperSource:parseInt(e.target.value)})}(e)},value:n.paperSource},l.a.createElement(g,null))),l.a.createElement(E.a,{className:"float-right",onClick:function(){c({loading:!0}),w.fetch(n.titleParam,n.contentParam,n.paperSource).then((function(a){e.resultsCallback(a)})).finally((function(){c({loading:!1})}))},disabled:!(n.titleParamValid&&n.contentParamValid)||n.loading},n.loading&&l.a.createElement(f.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"mr-1"}),n.loading&&l.a.createElement(l.a.Fragment,null,"Esto puede demorar..."),!n.loading&&l.a.createElement(l.a.Fragment,null,"Buscar")))))},k=t(16),j=function(e){return l.a.createElement(k.a,{className:"mx-3"},e.papers.map((function(e){return l.a.createElement(k.a.Item,{key:e.title},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.link},e.title))})))},A=function e(){Object(u.a)(this,e),this.alreadyFetched=!1,this.papers=[]},N=function(e,a){return Object(s.a)({},e,{},a)};var x=function(){var e=Object(r.useReducer)(N,new A),a=Object(i.a)(e,2),t=a[0],n=a[1];return l.a.createElement(m.a,null,l.a.createElement(p.a,{className:"mt-2"},l.a.createElement(d.a,{xs:12},l.a.createElement(y,{resultsCallback:function(e){n({papers:e,alreadyFetched:!0})}}))),l.a.createElement(p.a,{className:"my-4"},l.a.createElement(d.a,{xs:12},t.papers.length>0&&l.a.createElement(j,{papers:t.papers}),0===t.papers.length&&t.alreadyFetched&&l.a.createElement("div",{className:"mx-3"},"Sin resultados."))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(58);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.0347fee1.chunk.js.map